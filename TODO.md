# 修复清单

- [x] 重新整理ai对话工作流：整体工作流程如下：
  触发ai（所有触发原因）—— 触发总理模型，此时提供所有可用工具列表和相关说明、上下文、记忆系统潜意识层向量匹配到的记忆、ai可操控文件夹中的文件、触发原因，并要求总理模型结构化输出工作流：如角色扮演模型的回复意向、需要调用的工具等 —— 根据总理模型提供的工作流，同步指派指定的配置的模型进行回复（如角色扮演模型进行角色扮演回复，此时只给出总理模型提供的回复意向作为上下文）（如如果总理模型给出了代码编写指令，即调用的代码编写工具，触发代码编写负责模型的请求，此时只给总理模型提供的代码编写需要的具体编写内容（总理模型只给出文字描述而非真实代码）作为上下文）—— 所有调用完成，得到响应，将响应返回给总理模型，要求总理模型根据工具调用的结果进行最终回复（如角色扮演模型根据工具调用的结果进行角色扮演回复，此时提供工具调用的结果添加进上下文）（如如果总理模型给出了代码编写指令，即调用的代码编写工具，触发代码编写负责模型的请求，模型返回代码，工具将代码写入文件，此时提供文件路径添加进上下文）—— 最终回复返回给用户



## 优化清单

- [x] 将对话窗口与live2d窗口合并，将live2d窗口的对话框固定在模型上方，只保留一个输入框，模型产生回复的时候产生一个输出框气泡，且采用类似于打字机的方案，流式输出模型的回复。且旁边添加一个清空上下文按钮和切换上下文按钮
- [x] live2d窗口的功能按钮和对话框需要可以通过同一个快捷键统一隐藏,这个隐藏不是缩小是完全隐藏



### 功能添加


#### 每次修复后需要向github仓库推送，commit描述和标题除了feat/fix等前缀，均使用中文，且标题和描述不提到todo相关，直接描述做了什么修改
